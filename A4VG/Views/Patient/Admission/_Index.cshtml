@model A4VG.Models.Patient

<h4>Admissions</h4>
<hr />
<p>
	@Ajax.ActionLink("Create New", "Create", "Admission", new { patientId = Model.Id }, new AjaxOptions
{
   HttpMethod = "GET",
   UpdateTargetId = "divAdmissions",
   InsertionMode = InsertionMode.Replace,
   LoadingElementId = "divLoading",
   OnBegin = "ClearResults",
   OnFailure = "FailCreate"
}) |
</p>
<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Id)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Admitted)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Discharged)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Unit)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Room)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Admissions[0].Bed)
		</th>
		<th></th>
	</tr>

	@foreach (var item in Model.Admissions)
	{
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.Id)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Admitted)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Discharged)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Unit)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Room)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Bed)
			</td>
			<td>
				@Ajax.ActionLink("Edit", "Edit", "Admission", new { admissionId = item.Id }, new AjaxOptions
				{
				   HttpMethod = "GET",
				   UpdateTargetId = "divAdmissions",
				   InsertionMode = InsertionMode.Replace,
				   LoadingElementId = "divLoading",
				   OnBegin = "ClearResults",
				   OnFailure = "FailEdit"
				}) |
				@Ajax.ActionLink("Details", "Details", "Admission", new { admissionId = item.Id }, new AjaxOptions
			   {
				   HttpMethod = "GET",
				   UpdateTargetId = "divAdmissions",
				   InsertionMode = InsertionMode.Replace,
				   LoadingElementId = "divLoading",
				   OnBegin = "ClearResults",
				   OnFailure = "FailDetails"
			   }) |
				@Ajax.ActionLink("Delete", "Delete", "Admission", new { admissionId = item.Id }, new AjaxOptions
			   {
				   HttpMethod = "GET",
				   UpdateTargetId = "divAdmissions",
				   InsertionMode = InsertionMode.Replace,
				   LoadingElementId = "divLoading",
				   OnBegin = "ClearResults",
				   OnFailure = "FailDelete"
			   }) |
			</td>
		</tr>
	}

</table>


